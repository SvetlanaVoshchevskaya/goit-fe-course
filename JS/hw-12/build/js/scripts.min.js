"use strict";var template=document.querySelector("#js-card-template").innerHTML.trim(),input=document.querySelector(".link-input"),form=document.querySelector(".js-forms"),content=document.querySelector(".content");function getValue(){event.preventDefault();var e=input.value,t={id:Date.now(),content:e};createForm(t),saveToStorage(t),input.value=""}function saveToStorage(e){var t=JSON.parse(localStorage.getItem("marks"));t.push(e),localStorage.setItem("marks",JSON.stringify(t))}function createForm(e){var t=Handlebars.compile(template)(e);content.insertAdjacentHTML("afterbegin",t)}function painFromStorage(){var e=JSON.parse(localStorage.getItem("marks"));if(e){var t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){createForm(n.value)}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}else localStorage.setItem("marks",JSON.stringify([]))}function deleteBookmarks(e){var t=e.target,r=t.parentNode.dataset.id;"BUTTON"===t.nodeName&&t.parentNode.remove();var a=JSON.parse(localStorage.getItem("marks")).filter(function(e){return e.id!==Number(r)});localStorage.setItem("marks",JSON.stringify(a))}window.addEventListener("DOMContentLoaded",painFromStorage),form.addEventListener("submit",getValue),content.addEventListener("click",deleteBookmarks);